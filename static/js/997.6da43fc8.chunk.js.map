{"version":3,"file":"static/js/997.6da43fc8.chunk.js","mappings":"6OAEe,SAAeA,EAA9B,+CAAe,OAAf,oBAAe,WAA4BC,GAA5B,uFACgBC,EAAAA,EAAAA,IAAA,6IACkHD,IAFlI,cACLE,EADK,yBAGLA,GAHK,kE,qBCDf,EAAwB,sBAAxB,EAA4D,4BAA5D,EAAqG,2B,SCKtF,SAASC,IAAU,IAAD,EAC/B,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAEjDC,EAAAA,EAAAA,YAAU,WACJF,GACFb,EAAaa,GAAaG,MAAK,SAAAC,GAAI,OAAIV,EAAUU,EAAKA,KAAKC,QAAxB,GACtC,GAAE,CAACL,IAYJ,OACE,iCACE,kBAAMM,SAPkB,SAAAC,GAC1BA,EAAEC,iBACFT,EAAgB,CAAEX,MAAOmB,EAAEE,OAAO,GAAGC,QACrCvB,EAAaa,GAAaG,MAAK,SAAAC,GAAI,OAAIV,EAAUU,EAAKA,KAAKC,QAAxB,GACpC,EAGG,WACE,kBACEM,KAAK,OACLC,UAAWC,KAIb,mBAAQD,UAAWC,EAAnB,uBAEDpB,EAAOqB,OAAS,IACf,wBACGrB,EAAOsB,KAAI,SAAAC,GAAK,OACf,SAAC,KAAD,CACEC,MAAO,CAAEC,KAAMvB,GAEfwB,GAAE,kBAAaH,EAAMI,IAHvB,UAKE,eAAIR,UAAWC,EAAf,SAAgCG,EAAMK,SAHjCL,EAAMI,GAHE,QAa1B,C","sources":["Api/SearchMovies.js","webpack://react-homework-template/./src/pages/Module.css/Movies.module.css?cd91","pages/Movies.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default async function searchMovies(query) {\n    const mostPopular = await  axios\n      .get(`https://api.themoviedb.org/3/search/movie?api_key=963109e7e79ebe88fb21387185fe2d50&language=en-US&page=1&include_adult=false&query=${query}`)\n   return mostPopular\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Movies_input__k1CcF\",\"search__btn\":\"Movies_search__btn__yxa2H\",\"list__item\":\"Movies_list__item__njjXT\"};","import { useState, useEffect } from 'react';\nimport searchMovies from 'Api/SearchMovies';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport css from './Module.css/Movies.module.css';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const querySearch = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (querySearch)\n      searchMovies(querySearch).then(data => setMovies(data.data.results));\n  }, [querySearch]);\n\n  // useEffect(() => {\n  //   if (!querySearch)\n  //   setSearchParams({ })\n  // }, [querySearch, setSearchParams]);\n\n  const searchFilmsOnSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: e.target[0].value });\n    searchMovies(querySearch).then(data => setMovies(data.data.results));\n  };\n  return (\n    <>\n      <form onSubmit={searchFilmsOnSubmit}>\n        <input\n          type=\"text\"\n          className={css.input}\n          // value={querySearch}\n          // onChange={}\n        />\n        <button className={css.search__btn}>Search</button>\n      </form>\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(movie => (\n            <Link\n              state={{ from: location }}\n              key={movie.id}\n              to={`/movies/${movie.id}`}\n            >\n              <li className={css.list__item}>{movie.title}</li>\n            </Link>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n"],"names":["searchMovies","query","axios","mostPopular","Movies","useState","movies","setMovies","location","useLocation","useSearchParams","searchParams","setSearchParams","querySearch","get","useEffect","then","data","results","onSubmit","e","preventDefault","target","value","type","className","css","length","map","movie","state","from","to","id","title"],"sourceRoot":""}