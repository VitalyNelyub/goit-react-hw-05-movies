{"version":3,"file":"static/js/527.c3c20511.chunk.js","mappings":"+SAEMA,EAAW,+BACXC,EAAM,mCAEL,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA8BC,GAA9B,uFACoBC,EAAAA,EAAAA,IAAA,UACpBJ,EADoB,kBACFG,EADE,4BACoBF,EADpB,oBADpB,cACCI,EADD,yBAIEA,GAJF,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAgCH,GAAhC,gFACCI,EADD,UACuBP,EADvB,kBACyCG,EADzC,oBACuDF,EADvD,4BAGqBG,EAAAA,EAAAA,IAAA,UAAaG,IAHlC,cAGCC,EAHD,yBAIEA,GAJF,kEAOA,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACqBL,EAAAA,EAAAA,IAAA,UACrBJ,EADqB,uCACkBC,IAFvC,cACCO,EADD,yBAIEA,GAJF,kEAOA,SAAeE,EAAtB,+CAAO,OAAP,oBAAO,WAA4BP,GAA5B,uFACqBC,EAAAA,EAAAA,IAAA,UACrBJ,EADqB,kBACHG,EADG,4BACmBF,EADnB,2BADrB,cACCU,EADD,yBAIEA,GAJF,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,uFACqBT,EAAAA,EAAAA,IAAA,UACrBJ,EADqB,iCACYC,EADZ,4DACmEY,IAFxF,cACCL,EADD,yBAIEA,GAJF,kE,mHChCP,EAAwB,sBAAxB,EAA4D,4BAA5D,EAAqG,2B,SCKtF,SAASM,IAAU,IAAD,EAC/B,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAEjDC,EAAAA,EAAAA,YAAU,WACJF,IACFX,EAAAA,EAAAA,IAAaW,GAAaG,MAAK,SAAAC,GAAI,OAAIV,EAAUU,EAAKA,KAAKC,QAAxB,GACtC,GAAE,CAACL,IAYJ,OACE,iCACE,kBAAMM,SAPkB,SAAAC,GAC1BA,EAAEC,iBACFT,EAAgB,CAAET,MAAOiB,EAAEE,OAAO,GAAGC,SACrCrB,EAAAA,EAAAA,IAAaW,GAAaG,MAAK,SAAAC,GAAI,OAAIV,EAAUU,EAAKA,KAAKC,QAAxB,GACpC,EAGG,WACE,kBACEM,KAAK,OACLC,UAAWC,KAIb,mBAAQD,UAAWC,EAAnB,uBAEDpB,EAAOqB,OAAS,IACf,wBACGrB,EAAOsB,KAAI,SAAAC,GAAK,OACf,SAAC,KAAD,CACEC,MAAO,CAAEC,KAAMvB,GAEfwB,GAAE,kBAAaH,EAAMpC,IAHvB,UAKE,eAAIgC,UAAWC,EAAf,SAAgCG,EAAMI,SAHjCJ,EAAMpC,GAHE,QAa1B,C","sources":["Api/ApiSearch.js","webpack://react-homework-template/./src/pages/Module.css/Movies.module.css?cd91","pages/Movies.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '963109e7e79ebe88fb21387185fe2d50';\n\nexport async function fetchCastMovie(id) {\n  const castMovies = await axios.get(\n    `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US`\n  );\n  return castMovies;\n}\n\nexport async function fetchDetailMovie(id) {\n  const URL_DETAIL_MOVIE = `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US`;\n\n  const mostPopular = await axios.get(`${URL_DETAIL_MOVIE}`);\n  return mostPopular;\n}\n\nexport async function fetchMostPopolarMovies() {\n  const mostPopular = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${KEY}`\n  );\n  return mostPopular;\n}\n\nexport async function fetchReviews(id) {\n  const dataReviews = await axios.get(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return dataReviews;\n}\n\nexport async function searchMovies(query) {\n  const mostPopular = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`\n  );\n  return mostPopular;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Movies_input__k1CcF\",\"search__btn\":\"Movies_search__btn__yxa2H\",\"list__item\":\"Movies_list__item__njjXT\"};","import { useState, useEffect } from 'react';\nimport {searchMovies} from 'Api/ApiSearch';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport css from './Module.css/Movies.module.css';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const querySearch = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (querySearch)\n      searchMovies(querySearch).then(data => setMovies(data.data.results));\n  }, [querySearch]);\n\n  // useEffect(() => {\n  //   if (!querySearch)\n  //   setSearchParams({ })\n  // }, [querySearch, setSearchParams]);\n\n  const searchFilmsOnSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: e.target[0].value });\n    searchMovies(querySearch).then(data => setMovies(data.data.results));\n  };\n  return (\n    <>\n      <form onSubmit={searchFilmsOnSubmit}>\n        <input\n          type=\"text\"\n          className={css.input}\n          // value={querySearch}\n          // onChange={}\n        />\n        <button className={css.search__btn}>Search</button>\n      </form>\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(movie => (\n            <Link\n              state={{ from: location }}\n              key={movie.id}\n              to={`/movies/${movie.id}`}\n            >\n              <li className={css.list__item}>{movie.title}</li>\n            </Link>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n"],"names":["BASE_URL","KEY","fetchCastMovie","id","axios","castMovies","fetchDetailMovie","URL_DETAIL_MOVIE","mostPopular","fetchMostPopolarMovies","fetchReviews","dataReviews","searchMovies","query","Movies","useState","movies","setMovies","location","useLocation","useSearchParams","searchParams","setSearchParams","querySearch","get","useEffect","then","data","results","onSubmit","e","preventDefault","target","value","type","className","css","length","map","movie","state","from","to","title"],"sourceRoot":""}